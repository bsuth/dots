local { HOME } = require('constants')
local path = require('utils.path')
local plugins = require('utils.plugins')

-- -----------------------------------------------------------------------------
-- Color Scheme
-- -----------------------------------------------------------------------------

plugins.use('navarasu/onedark.nvim')

local onedark = require('onedark')
local palette = require('onedark.palette').warmer

onedark.setup({ style = 'warmer' })
onedark.load()

vim.api.nvim_set_hl(0, 'NormalFloat', { bg = palette.bg0 })

-- -----------------------------------------------------------------------------
-- Treesitter
-- -----------------------------------------------------------------------------

plugins.use('nvim-treesitter/nvim-treesitter')

local treesitter_configs = require('nvim-treesitter.configs')

treesitter_configs.setup({
  ensure_installed = 'all',
  ignore_install = { 'po' },
  indent = { enable = true },
  highlight = { enable = true },
})

-- -----------------------------------------------------------------------------
-- Erde
-- -----------------------------------------------------------------------------

plugins.use(path.join(HOME, 'repos/vim-erde'), { symlink = true })

-- -----------------------------------------------------------------------------
-- MDX
-- -----------------------------------------------------------------------------

vim.api.nvim_create_autocmd('BufRead', {
  group = 'bsuth',
  pattern = '*.mdx',
  callback = () -> { vim.bo.syntax = 'markdown' },
})
