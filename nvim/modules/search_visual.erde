local { get_visual_selection } = require('utils.vim')

vim.keymap.set('v', '<c-n>', () -> {
  vim.fn.setreg('/', "\\V{get_visual_selection():gsub('[\\/]', '\\%1')}")
  vim.api.nvim_feedkeys(vim.api.nvim_replace_termcodes('<esc>', true, false, true), 'n', false) -- go back to normal mode
  vim.cmd('normal n')
})
